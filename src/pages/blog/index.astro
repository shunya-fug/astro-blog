---
import { client } from "@/commons/clients/MicroCMSClient";
import type { Blog } from "@/commons/types/Blog";
import Layout from "@/layouts/Layout.astro";

const response = await client.getList<Blog>({
  endpoint: "blogs",
  queries: {
    fields: ["id", "title"],
  },
});
---

<Layout title="ブログ一覧" description="ブログ一覧">
  <main class="container prose mx-auto p-4">
    <section class="grid grid-cols-1 gap-2">
      {
        response.contents.map((content) => (
          <a href={`/blog/${content.id}`}>
            <div class="card card-compact bg-neutral shadow-md">
              <div class="card-body">
                <h3 class="m-3">{content.title}</h3>
              </div>
            </div>
          </a>
        ))
      }
    </section>
  </main>
</Layout>
